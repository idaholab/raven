\section{OutStream system}
\label{sec:outstream}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% If you are confused by the input of this document, please make sure you see
% these defined commands first. There is no point writing the same thing over
% and over and over and over and over again, so these will help us reduce typos,
% by just editing a template sentence or paragraph.

%% This guy doesn't work because of the lstlisting inside of the newcommand, I
%% tried a work around, but it didn't work. Poke on the internet and you can
%% probably fix this easily.
\newcommand{\kwargsDescription}
{
  \xmlNode{kwargs}, within this block the user can specify optional parameters
  with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1}\texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]}\xmlNode{/param2} into a list, etc.).
}

\newcommand{\interpolationDescription}[1]
{
  \xmlNode{interpolationType}, \xmlDesc{string, optional field}, is the
  type of interpolation algorithm to use for the data.
  %
  Available options are ``nearest,'' ``linear,'' ``cubic,'' ``multiquadric,''
  ``inverse,'' ``gaussian,'' ``Rbflinear,'' ``Rbfcubic,'' ``quintic,'' and
  ``thin\_plate.''
  %
  \default{#1}
}

\newcommand{\plotTwoIntro}[1]
{
  In order to create a 2D ``{#1}'' plot, the user needs to write in the
  \xmlNode{type} body the keyword ``{#1}.''
  %
  In order to customize the plot, the user can define the following XML sub
  nodes:
}
\newcommand{\plotThreeIntro}[1]
{
  In order to create a 3D ``{#1}'' plot, the user needs to write in the
  \xmlNode{type} body the keyword ``{#1}.''
  %
  In order to customize the plot, the user can define the following XML sub
  nodes:
}

\newcommand{\plotIntro}[1]
{
  In order to create a ``{#1}'' plot, either 2D or 3D, the user needs to write
  in the \xmlNode{type} body the keyword ``{#1}.''
  %
  In order to customize the plot, the user can define the following XML sub
  nodes:
}
\newcommand{\interpXYDescription}[1]
{
  \xmlNode{interpPoints\uppercase{#1}}, \xmlDesc{integer, optional field}, sets
  the number of points need to be used for interpolation of the \lowercase{#1}
  axis.
}
\newcommand{\cmapDescription}[1]
{
  \xmlNode{cmap}, \xmlDesc{string, optional field}, defines the color map
  to use for this plot.
  %
  \default{#1}
}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

The RAVEN framework provides the capabilities to visualize and print out the
data generated, imported, and post-processed during RAVEN workflows.
%
These capabilities are contained in the ``OutStream'' system.
%
OutStream capabilities can be broadly classified into specific categories:
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \xmlNode{Print}, which allows data in memory to be saved to disk;
  \item \xmlNode{Plot}, which allows plotting data according to a variety of strategies.
  %
\end{itemize}
\vspace{-5mm}
Default implementations exist for \xmlNode{Print} and \xmlNode{Plot}, described in
Sections \ref{sec:printing} and \ref{sec:plotting}. Other plotting strategies are described in section
``Specific Plots'' [\ref{sec:outstreams.subplots}] below.

\subsection{Defaults}
 %%%%%%%%%%%%%% OLD $$$$$$$$$$$$$$$$$$
Actually, two different default OutStream types are available:
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \textbf{Print}, module that lets the user dump the data contained in the
  internal objects;
  \item \textbf{Plot}, module, based on MatPlotLib~\cite{MatPlotLib}, aimed to
  provide advanced plotting capabilities.
  %
\end{itemize}
\vspace{-5mm}
Both the types listed above accept as ``input'' a \textit{DataObjects} object
type.
%
This choice is due to the ``\textit{DataObjects}'' system (see
section~\ref{sec:DataObjects}) having the main advantage of ensuring a standardized
approach for exchanging the data/meta-data among the different framework
entities.
%
Every module can project its outcomes into a \textit{DataObjects} object.
%
This provides the user with the capability to visualize/dump all the modules'
results.
%
Additionally, the \textbf{Print} system can accept a ROM and inquire some of its
specialized methods.
%
As already mentioned, the RAVEN
framework input is based on the e\textbf{X}tensible \textbf{M}arkup
\textbf{L}anguage (\textbf{XML}) format.
%
Thus, in order to activate the ``\textit{OutStream}'' system, the input needs to
contain a block identified by the \xmlNode{OutStreams} tag (as shown
below).

\begin{lstlisting}[style=XML]
<OutStreams>
  <!-- "OutStream" objects that need to be created-->
</OutStreams>
\end{lstlisting}

In the ``OutStreams'' block an unlimited number of ``Plot'' and ``Print''
sub-blocks can be specified.
%
The input specifications and the main capabilities for both types are reported
in the following sections.
%
%%%%%%%%%
% PRINTING SYSTEM
%
%%%%%%%%%
\subsection{Default Printing system \label{sec:printing}}
The Printing system has been created in order to let the user dump the data,
contained in the internal data objects (see Section~\ref{sec:DataObjects}), out
at anytime during the calculation.
%
Additionally, the user can inquire special methods of a \textbf{ROM} after training it,
through a printing step.
%
Currently, the only available output is a \textbf{C}omma \textbf{S}eparated
\textbf{V}alue (\textbf{CSV}) file for \textbf{DataObjects}, and \textbf{XML}
for \textbf{ROM} objects.
%
%In the near future, an XML formatted file option will be available.
%
This will facilitate the exchanging of results and provide the possibility to
dump the solution of an analysis and ``restart'' another one constructing a
data object from scratch, as well as access advanced features of particular
reduced order models.
%
\subsubsection{\textbf{DataObjects} Printing}
The XML code, that is reported below, shows different ways to request a
\textit{Print} OutStream for \textbf{DataObjects}.
%
The user needs to provide a name for each sub-block (XML attribute).
%
These names are then used in the \textit{Step} blocks to activate the Printing
keywords at any time.
%
The XML node has the following
available attributes:
\begin{itemize}
  \itemsep0em
  \item \xmlAttr{name}, \xmlDesc{required string attribute}, is a user-defined
  identifier for this data object.
    %
  \nb As with other objects, this name can be used to refer to this specific
  entity from other input blocks in the XML.
  %
  \item \xmlAttr{dir}, \xmlDesc{optional string attribute}, is a user-defined
  directory in which the data are going to be streamed (i.e. printed). The
  directory can be either inputted with an relative (with respect the \xmlNode{workingDir} specified
  in the   \xmlNode{RunInfo} XML node)  or absolute path
  %
  \default{\xmlNode{workingDir}}
  %
 \end{itemize}
As shown in the examples below, every \xmlNode{Print} block must contain, at
least, the two required tags:
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \xmlNode{type}, the output file type (csv or xml).
  %
  \nb Only \textbf{csv} is currently available for \xmlNode{DataObjects}
  \item \xmlNode{source}, the \textit{Data} name (one of the \textit{Data} items
  defined in the \xmlNode{DataObjects} block.
\end{itemize}
\vspace{-5mm}

An optional tag \xmlNode{filename} can be used to specify the filename for the
output. If this is not defined, then the default name will be the \xmlAttr{name}
identifier of the tag.

If only these two tags are provided (as in the ``first-example'' below), the
output file will be filled with the whole content of the ``d-name''
\textit{Data} object.
%
\begin{lstlisting}[style=XML]
<OutStreams>
  <Print name='first-example'>
    <type>csv</type>
    <source>d-name</source>
  </Print>
  <Print name='second-example'>
    <type>csv</type>
    <source>d-name</source>
    <what>Output</what>
  </Print>
  <Print name='third-example'>
    <type>csv</type>
    <source>d-name</source>
    <what>Input</what>
  </Print>
  <Print name='fourth-example'>
    <type>csv</type>
    <source>d-name</source>
    <what>Input|var-name-in,Output|var-name-out</what>
  </Print>
  <Print name='fifth-example'>
    <type>csv</type>
    <source>d-name</source>
    <filename>example5</filename>
  </Print>
</OutStreams>
\end{lstlisting}

If just part of the \xmlNode{source} is important for a particular analysis, the
additional XML tag \xmlNode{what} can be provided.
%
In this block, the variables that need to be dumped must be specified, in
comma separated format.
%
The available options, for the \xmlNode{what} sub-block, are listed below:
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \textbf{Output}, the output space will be dumped out (see
  ``second-example'')
  \item \textbf{Input}, the input space will be dumped out (see
  ``third-example'')
  \item \textbf{Input|var-name-in/Output|var-name-out}, only the particular
  variables ``var-name-in'' and ``var-name-out'' will be reported in the output
  file (see ``fourth-example'')
\end{itemize}
\vspace{-5mm}
Note all of the XML tags are case-sensitive but not their content.

\subsubsection{\textbf{ROM} Printing}
While all \textbf{ROM}s in RAVEN are designed to be used as surrogate models,
some \textbf{ROM}s additionally offer information about the original model that
isn't accessible through another means.  For instance, \textbf{HDMRRom} objects
can calculate sensitivity coefficients for subsets of the input domain.
%
The XML code shown below demonstrates the methods to request these features
from a \textbf{ROM}.
%
The user needs to provide a \xmlNode{name} for each sub-block (XML attribute).
%
These names are then used in the \textit{Step} blocks to activate the Printing keywords
at any time.
%
As shown in the examples below, every \xmlNode{Print} block for ROMs must contain, at least, the
three required tags
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \xmlNode{type}, the output file type (csv or xml).
  %
  \nb Only \textbf{xml} is currently available for ROMs
  \item \xmlNode{source}, the \textit{ROM} name (one of the \xmlNode{ROM} items
  defined in the \xmlNode{Models} block.
    %
  \item \xmlNode{what}, the comma-separated list of desired metrics.
  The list of metrics available in each ROM is listed under that ROM
  type in Section \ref{subsec:models_ROM}.  Alternatively, the
  keyword \xmlString{all} can be provided to request all available metrics, if any.
\end{itemize}
\vspace{-5mm}
Addtionally, when printing ROMs one optional node is available,
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \xmlNode{target}, the ROM target for which to inquire data

\end{itemize}
\vspace{-5mm}
If the ROM is time-dependent, the printed properties will be collected by time step.
ROM printing uses the same naming conventions as DataObjects printing.
Examples:
\begin{lstlisting}[style=XML]
<OutStreams>
  <Print name='first-ROM-example'>
    <type>xml</type>
    <source>mySobolRom</source>
    <what>all</what>
  </Print>
  <Print name='second-ROM-example'>
    <type>xml</type>
    <source>myGaussPolyRom</source>
    <what>mean,variance</what>
  </Print>
</OutStreams>
\end{lstlisting}
%
%%%%%%%%%
% PLOTTING SYSTEM
%
%%%%%%%%%
\subsection{Default Plotting system \label{sec:plotting}}
The Plotting system provides all the capabilities to visualize the analysis
outcomes, in real-time or as a post-processing stage.
%
The system is based on the Python library MatPlotLib~\cite{MatPlotLib}.
%
MatPlotLib is a 2D/3D plotting library which produces publication quality
figures in a variety of hardcopy formats and interactive environments across
platforms.
%
This external tool has been wrapped in the RAVEN framework, and is available to
the user.
%
Since it was unfeasible to support, in the source code, all the interfaces for
all the available plot types, the RAVEN Plotting system directly provide a
formatted input structure for 11 different plot types (2D/3D).
%
The user may request a plot not present among the supported ones, since the
RAVEN Plotting system has the capability to construct on the fly the interface
for a Plot, based on XML instructions.
%
%This capability will be discussed in the sub-section~\ref{sec:Interpretedplotting}.
%
%%%%%%%%%%%%%
% Plot Input Strucutre sub-sub-section
%%%%%%%%%%%%%
\subsubsection{Plot input structure \label{sec:PlotInputStructure}}
In order to create a plot, the user needs to add, within the
\xmlNode{OutStreams} block, a \xmlNode{Plot} sub-block.
%
Similar to the \xmlNode{Print} OutStream, the user needs to specify a
\xmlAttr{name} as an attribute of the plot.
%
This name will then be used to request the plot in the \xmlNode{Steps} block.
%
In addition, the Plot block accepts the following attributes:

\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  %\item \xmlAttr{dim}, \xmlDesc{required integer attribute}, defines the
  %dimensionality of the plot: 2 (2D) or 3 (3D).
  %
  \item \xmlAttr{interactive}, \xmlDesc{optional bool attribute}, specifies if
  the Plot needs to be interactively created (real-time screen visualization).
  %
  \default{False}
  %
  \item \xmlAttr{overwrite}, \xmlDesc{optional bool attribute}, used when the
  plot needs to be dumped into picture file/s. This attribute determines whether
  the code needs to overwrite the image files every time a new plot (with the
  same name) is requested.
  %
  \default{False}
  %
    \item \xmlAttr{dir}, \xmlDesc{optional string attribute}, is a user-defined
  directory in which the data are going to be streamed (i.e. printed). The
  directory can be either inputted with an relative (with respect the \xmlNode{workingDir} specified
  in the   \xmlNode{RunInfo} XML node)  or absolute path
  %
  \default{\xmlNode{workingDir}}
  %
\end{itemize}
\vspace{-5mm}

An optional tag \xmlNode{filename} can be used to specify the filename for
the output. If this is not defined, then the default base name will be the
\xmlAttr{name} identifier of the tag prepended and appended with extra
information that identifies the plot further.

As shown, in the XML input example below, the body of the Plot XML input
contains two main sub-nodes:
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \xmlNode{actions}, where general control options for the figure layout
  are defined (see Section~\ref{sec:actionsBlock}).
  %
  \item \xmlNode{plotSettings}, where the actual plot options are provided.
  \vspace{-5mm}
\end{itemize}

These two main sub-block are discussed in the following paragraphs.
%
%%%%%%%%%%%%%
% Actions' block sub-sub-sub section
%%%%%%%%%%%%%
\paragraph{``Actions'' input block \label{sec:actionsBlock}}
The input in the \xmlNode{actions} sub-node is common to all the Plot types,
since, in it, the user specifies all the controls that need to be applied to the
figure style.
%
This block must be unique in the definition of the \xmlNode{Plot} main block.
%
In the following list, all the predefined ``actions'' are reported:
\vspace{-5mm}
\begin{itemize}
  \itemsep0em
  \item \xmlNode{how}, comma separated list of output types:
     \begin{itemize}
    \item \texttt{screen}, show the figure on the screen in interactive mode
    \item \texttt{pdf}, save the figure as a Portable Document Format file (PDF).
    \nb The pdf format does not support multiple layers that lay on the same pixel. If the
    user gets an error about this, he/she should move to another format.
    \item \texttt{png}, save the figure as a Portable Network Graphics file
    (PNG)
    \item \texttt{eps}, save the figure as an Encapsulated Postscript file (EPS)
    \item \texttt{pgf}, save the figure as a LaTeX PGF Figure file (PGF)
    \item \texttt{ps}, save the figure as a Postscript file (PS)
    \item \texttt{gif}, save the figure as a Graphics Interchange Format (GIF)
    \item \texttt{svg}, save the figure as a Scalable Vector Graphics file (SVG)
    \item \texttt{jpeg}, save the figure as a jpeg file (JPEG)
    \item \texttt{raw}, save the figure as a Raw RGBA bitmap file (RAW)
    \item \texttt{bmp}, save the figure as a Windows bitmap file (BMP)
    \item \texttt{tiff}, save the figure as a Tagged Image Format file (TIFF)
    \item \texttt{svgz}, save the figure as a Scalable Vector Graphics file
    (SVGZ)
      \end{itemize}
  \item \xmlNode{title}, as the name suggests, within this block the user can
  specify the title of the figure.
  %
  In the body of this node, a few other tags are available:

% TITLE
  \begin{itemize}
    \item \xmlNode{text}, \xmlDesc{string type}, title of the figure
    \item \xmlNode{kwargs}, within this block the user can specify optional parameters
    with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1}\texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]}\xmlNode{/param2} into a list, etc.).
    %
    For reference regarding the available kwargs, see
    ``matplotlib.pyplot.title'' method in~\cite{MatPlotLib}.
    %
  \end{itemize}
% LABEL FORMAT
  \item \xmlNode{labelFormat}, within this block the default scale formatting
  can be modified.
  %
  In the body, a few other tags are available:
 \begin{itemize}
     %
    \item \xmlNode{axis}, \xmlDesc{string}, the axis where to apply the defined
    format, `x,' `y,' or `both'.
    %
    \default{`both'}
    %
    \nb If this action will be used in a 3-D plot, the user can input `z' as
    well and `both' will apply this format to all three axis.
    \item \xmlNode{style}, \xmlDesc{string}, the style of the number notation,
    `sci' or `scientific' for scientific, `plain' for plain notation.
    %
     \default{scientific}
    \item \xmlNode{scilimits}, \xmlDesc{tuple, (m, n), pair of integers}, if
    style is `sci', scientific notation will be used for numbers outside the
    range $10^m$ to $10^n$.
    %
    Use (0,0) to include all numbers.
    %
    \nb The value for this keyword, needs to be specified between brackets [for
    example, (5,6)].
    %
     \default{(0,0)}
    \item \xmlNode{useOffset}, \xmlDesc{bool or double}, if True, the offset
    will be calculated as needed; if False, no offset will be used; if a numeric
    offset is specified, it will be used.
    %
    \default{False}
    %
  \end{itemize}
% FIGURE PROPERTIES
  \item \xmlNode{figureProperties}, within this block the user specifies how
  to customize the figure style/quality.
  %
  Thus, through this ``action'' the user has got full control on the quality of
  the figure, its dimensions, etc.
  %
  This control is performed by the following keywords:
  \begin{itemize}
    \item \xmlNode{figsize}, \xmlDesc{tuple (optional)}, (width, hight), in
    inches.
    \item \xmlNode{dpi}, \xmlDesc{integer}, dots per inch.
    \item \xmlNode{facecolor}, \xmlDesc{string}, set the figure background color
    (please refer to ``matplotlib.figure.Figure'' in~\cite{MatPlotLib} for a
    list of all the colors available).
    \item \xmlNode{edgecolor}, \xmlDesc{string}, the figure edge background
    color (please refer to ``matplotlib.figure.Figure'' in~\cite{MatPlotLib} for
    a list of all the colors available).
    \item \xmlNode{linewidth}, \xmlDesc{float}, the width of lines drawn on the
    plot.
    \item \xmlNode{frameon}, \xmlDesc{bool}, if False, suppress drawing the
    figure frame.
  \end{itemize}
% RANGE
  \item \xmlNode{range}, the range ``action'' specifies the ranges of all the
  axis.
  %
  All the keywords in the body of this block are optional:
  \begin{itemize}
    \item \xmlNode{ymin}, \xmlDesc{double (optional)}, lower boundary for the
    y axis.
    \item \xmlNode{ymax}, \xmlDesc{double (optional)}, upper boundary for the
    y axis.
    \item \xmlNode{xmin}, \xmlDesc{double (optional)}, lower boundary for the
    x axis.
    \item \xmlNode{xmax}, \xmlDesc{double (optional)}, upper boundary for the
    x axis.
    \item \xmlNode{zmin}, \xmlDesc{double (optional)}, lower boundary for the
    z axis.
    %
    \nb This keyword is effective in 3-D plots only.
    \item \xmlNode{zmax}, \xmlDesc{double (optional)}, upper boundary for the
    z axis.
    %
    \nb This keyword is effective in 3-D plots only.
  \end{itemize}
% CAMERA
  \item \xmlNode{camera}, the camera item is available in 3-D plots only.
  %
  Through this ``action,'' it is possible to orientate the plot as one wishes.
  %
  The controls are:
  \begin{itemize}
    \item \xmlNode{elevation}, \xmlDesc{double (optional)}, stores the elevation
    angle in the z plane.
    \item \xmlNode{azimuth}, \xmlDesc{double (optional)}, stores the azimuth
    angle in the x,y plane.
  \end{itemize}
% SCALE
  \item \xmlNode{scale}, the scale block allows the specification of the axis
  scales:
  \begin{itemize}
    \item \xmlNode{xscale}, \xmlDesc{string (optional)}, scale of the x axis.
    %
    Three options are available: ``linear,''``log,'' or ``symlog.''
    %
    \default{linear}
    \item \xmlNode{yscale}, \xmlDesc{string (optional)}, scale of the y axis.
    %
    Three options are available: ``linear,'' ``log,'' or ``symlog.''
    %
    \default{linear}
    \item \xmlNode{zscale}, \xmlDesc{string (optional)}, scale of the z axis.
    %
    Three options are available: ``linear,'' ``log,'' or ``symlog.''
    %
    \default{linear}
    %
    \nb This keyword is effective in 3-D plots only.
  \end{itemize}
% ADD_TEXT
  \item \xmlNode{addText}, same as title.
% AUTOSCALE
  \item \xmlNode{autoscale}, is a convenience method for simple axis view
  autoscaling.
  %
  It turns autoscaling on or off, and then, if autoscaling for either axis is
  on, it performs the autoscaling on the specified axis or axes.
  %
  The following sub-nodes may be specified:
  \begin{itemize}
    \item \xmlNode{enable}, \xmlDesc{bool (optional)}, True turns autoscaling
    on, False turns it off.
    %
    None leaves the autoscaling state unchanged.
    %
    \default{True}
    \item \xmlNode{axis}, \xmlDesc{string (optional)}, determines which axis
    to apply the defined format, `x,' `y,' or `both.'
    %
    \default{`both'}
    %
    \nb If this action is used in a 3-D plot, the user can input `z' as well
    and `both' will apply this format to all three axis.
    %
    \item \xmlNode{tight}, \xmlDesc{bool (optional)}, if True, sets the view
    limits to the data limits; if False, let the locator and margins expand the
    view limits; if None, use tight scaling if the only output is an image file,
    otherwise treat tight as False.
    %
  \end{itemize}
%HORIZONTAL_LINE
  \item \xmlNode{horizontalLine}, this ``action'' provides the ability to draw
  a horizontal line in the current figure.
  %
  This capability might be useful, for example, if the user wants to highlight a
  trigger function of a variable.
  %
  The following sub-nodes may be specified:
  \begin{itemize}
    \item \xmlNode{y}, \xmlDesc{double (optional)}, sets the y-value for the
    line.
    %
    \default{0}
    \item \xmlNode{xmin}, \xmlDesc{double (optional)}, is the starting
    coordinate on the x axis.
    %
    \default{0}
    \item \xmlNode{xmax}, \xmlDesc{double (optional)}, is the ending coordinate
    on the x axis.
    %
    \default{1}
    \item \xmlNode{kwargs}, within this block the user can specify optional
    parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1}\texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]}\xmlNode{/param2} into a list, etc.).
    %
    For reference regarding the available kwargs, see
    ``matplotlib.pyplot.axhline'' method in~\cite{MatPlotLib}.
    %
  \end{itemize}
  \nb This capability is not available for 3-D plots.
  %
%VERTICAL_LINE
  \item \xmlNode{verticalLine}, similar to the ``horizontalLine'' action,
  this block provides the ability to draw a vertical line in the current figure.
  %
  This capability might be useful, for example, if the user wants to highlight a
  trigger function of a variable.
  %
  The following sub-nodes may be specified:
  \begin{itemize}
    \item \xmlNode{x}, \xmlDesc{double (optional)}, sets the x coordinate of the
    line.
    %
    \default{0}
    \item \xmlNode{ymin}, \xmlDesc{double (optional)}, starting coordinate on
    the y axis.
    %
    \default{0}
    \item \xmlNode{ymax}, \xmlDesc{double (optional)}, ending coordinate on the
    y axis.
    %
    \default{1}
    \item \xmlNode{kwargs}, within this block the user can specify optional
    parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1}\texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]}\xmlNode{/param2} into a list, etc.).
    %
    For reference regarding the available kwargs, see
    ``matplotlib.pyplot.axvline'' method in~\cite{MatPlotLib}.
    %
  \end{itemize}
  \nb This capability is not available for 3-D plots.
  %
%HORIZONTAL_RECTANGLE
  \item \xmlNode{horizontalRectangle}, this ``action'' provides the ability to
  draw, in the current figure, a horizontally orientated rectangle.
  %
  This capability might be useful, for example, if the user wants to highlight a
  zone in the plot.
  %
  The following sub-nodes may be specified:
  \begin{itemize}
    \item \xmlNode{ymin}, \xmlDesc{double (required)}, starting coordinate on
    the y axis.
    \item \xmlNode{ymax}, \xmlDesc{double (required)}, ending coordinate on the
    y axis.
    \item \xmlNode{xmin}, \xmlDesc{double (optional)}, starting coordinate on
    the x axis.
    %
    \default{0}
    \item \xmlNode{xmax}, \xmlDesc{double (optional)}, ending coordinate on the
    x axis.
    %
    Default = 1
    \item \xmlNode{kwargs}, within this block the user can specify optional
    parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1}\texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]}\xmlNode{/param2} into a list, etc.).
    %
    For reference regarding the available kwargs, see
    ``matplotlib.pyplot.axhspan'' method in~\cite{MatPlotLib}.
    %
      \end{itemize}
  \nb This capability is not available for 3D plots.
  %
%VERTICAL_RECTANGLE
  \item \xmlNode{verticalRectangle}, this ``action'' provides the possibility
  to draw, in the current figure, a vertically orientated rectangle.
  %
  This capability might be useful, for example, if the user wants to highlight a
  zone in the plot.
  %
  The following sub-nodes may be specified:
  \begin{itemize}
    \item \xmlNode{xmin}, \xmlDesc{double (required)}, starting coordinate on
    the x axis.
    \item \xmlNode{xmax}, \xmlDesc{double (required)}, ending coordinate on the
    x axis.
    \item \xmlNode{ymin}, \xmlDesc{double (optional)}, starting coordinate on
    the y axis.
    %
    \default{0}
    \item \xmlNode{ymax}, \xmlDesc{double (optional)}, ending coordinate on the
    y axis.
    %
    \default{1}
    \item \xmlNode{kwargs}, within this block the user can specify optional
    parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1}\texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]}\xmlNode{/param2} into a list, etc.).
    %
    For reference regarding the available kwargs, see
    ``matplotlib.pyplot.axvspan'' method in~\cite{MatPlotLib}.
    %
  \end{itemize}
  \nb This capability is not available for 3D plots.
  %
%AXES_BOX
  \item \xmlNode{axesBox}, this keyword controls the axes' box.
  %
  Its value can be `on' or `off'.
  %
  \item \xmlNode{axisProperties}, this block is used to set axis properties.
  %
  There are no fixed keywords.
  %
  If only a single property needs to be set, it can be specified as the body of
  this block, otherwise a dictionary-like string needs to be provided.
  %
  For reference regarding the available keys, refer to
  ``matplotlib.pyplot.axis'' method in~\cite{MatPlotLib}.
  %
  \item \xmlNode{grid}, this block is used to define a grid that needs to be
  added in the plot.
  %
  The following keywords can be inputted:
  \begin{itemize}
    \item \xmlNode{b}, \xmlDesc{boolean (required)}, toggles the grid lines on
    or off.
    \item \xmlNode{which}, \xmlDesc{double (required)}, ending coordinate on the
    x axis.
    \item \xmlNode{axis}, \xmlDesc{double (optional)}, starting coordinate on
    the y axis.
    %
    \default{0}
    \item \xmlNode{kwargs}, within this block the user can specify optional
    parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1}\texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]}\xmlNode{/param2} into a list, etc.).
    %
  \end{itemize}
  \vspace{-5mm}
\end{itemize}
%%%%%%%%%%%%%
%Plot block sub-sub-sub section
%%%%%%%%%%%%%
\paragraph{``plotSettings'' input block \label{sec:plotSettings}}

The sub-block identified by the keyword \xmlNode{plotSettings} is used to
define the plot characteristics.
%
Within this sub-section at least a \xmlNode{plot} block must be present.
%
the \xmlNode{plot} sub-section may not be unique within the
\xmlNode{plotSettings} definition; the number of \xmlNode{plot} sub-blocks is
equal to the number of plots that need to be placed in the same figure.
%

If sub-plots are to be defined then \xmlNode{gridSpace} needs to be present.
\xmlNode{gridSpace} specifies the geometry of the grid that a subplot will be placed.
The number of rows and number of columns of the grid need to be set.
%

For example, in the following XML cut, a ``line'' and a ``scatter'' type are
combined in the same figure.
%
\begin{lstlisting}[style=XML,morekeywords={name},deletekeywords={type}]
<OutStreams>
  <Plot name='example2PlotsCombined'>
    <actions>
      <!-- Actions -->
    </actions>
    <plotSettings>
      <gridSpace>2 2</gridSpace>
      <plot>
        <type>line</type>
        <x>d-type|Output|x1</x>
        <y>d-type|Output|y1</y>
        <xlabel>label X</xlabel>
        <ylabel>label Y</ylabel>
        <gridLocation>
          <x>0 2</x>
          <y>0</y>
        </gridLocation>
      </plot>
      <plot>
        <type>scatter</type>
        <x>d-type|Output|x2</x>
        <y>d-type|Output|y2</y>
        <xlabel>label X</xlabel>
        <ylabel>label Y</ylabel>
        <gridLocation>
          <x>0 2</x>
          <y>1</y>
        </gridLocation>
      </plot>
    </plotSettings>
  </Plot>
</OutStreams>
\end{lstlisting}

The axis labels  are conditionally optional nodes
that can be defined under the \xmlNode{plotSetting}. If the plot does not contain any sub-plots,
i.e. \xmlNode{gridSpace} is not defined then the axis labels are global parameters for the figure
which are defined under \xmlNode{plotSettings}, otherwise the axis labels can be defined under \xmlNode{plot}
for each sub-plot seperately.
\begin{itemize}
  \item \xmlNode{xlabel}, \xmlDesc{string, optional parameter}, the x axis
  label.
  \item \xmlNode{ylabel}, \xmlDesc{string, optional parameter}, the y axis
  label.
  \item \xmlNode{zlabel}, \xmlDesc{string, optional parameter (3D plots only)},
  the z axis label.
\end{itemize}
%

One may also specify a \xmlNode{legend} tag that will place a legend on the plot.
The legend accepts the following sub-nodes:

\begin{itemize}
  \item \xmlNode{loc}, \xmlDesc{string, optional parameter}, the location where the legend will be placed on the plot. Valid values are:
  \begin{itemize}
    \item \xmlString{best}
    \item \xmlString{upper right}
    \item \xmlString{upper left}
    \item \xmlString{lower left}
    \item \xmlString{lower right}
    \item \xmlString{right}
    \item \xmlString{center left}
    \item \xmlString{center right}
    \item \xmlString{lower center}
    \item \xmlString{upper center}
    \item \xmlString{center}
  \end{itemize}
  \default{\xmlString{best}}
  \item \xmlNode{ncol}, \xmlDesc{integer, optional parameter}, the number of columsn to include in the legend.
  \default{1}
  \item \xmlNode{fontsize}, \xmlDesc{string, optional parameter}, the font size of the legend. Valid values are:
  \begin{itemize}
    \item \xmlString{xx-small}
    \item x-small
    \item \xmlString{small}
    \item \xmlString{medium}
    \item \xmlString{large}
    \item \xmlString{x-large}
    \item \xmlString{xx-large}
  \end{itemize}
  \item \xmlNode{title}, \xmlDesc{string, optional parameter}, the title of the legend.
\end{itemize}

\nb The text associated to each \xmlNode{plot} tag in the legend is defined in the \xmlNode{kwargs} of that plot by specifying a \xmlNode{label} within the kwargs.
An example usage is given below:

\begin{lstlisting}[style=XML]
<Plot ...>
  ...
  <plotSettings>
    <plot>
      <type>scatter</type>
        <x>...</x>
        <y>...</y>
        <kwargs>
          <label>dots</label>
        </kwargs>
     </plot>
    <plot>
      <type>line</type>
        <x>...</x>
        <y>...</y>
        <kwargs>
          <label>line</label>
        </kwargs>
     </plot>
    <legend>
      <loc>best</loc>
      <ncol>2</ncol>
    </legend>
  </plotSettings>
</Plot>
\end{lstlisting}

This will create a plot with both scattered points and a line. The plot will also have a legend specifying the labels ``dots'' and ``line'' in two columns with the best location selected by matplotlib.

As already mentioned, within the \xmlNode{plotSettings} block, at least a
\xmlNode{plot} sub-block needs to be specified.
%
Independent of the plot type, some keywords are mandatory:
\begin{itemize}
  \item \xmlNode{type}, \xmlDesc{string, required parameter}, the plot type (for
  example, line, scatter, wireframe, etc.).
  \item \xmlNode{x}, \xmlDesc{string, required parameter}, specifies the DataObject parameter to be plotted as the x coordinate.
	This parameter must be described in a specific manner, see Section \ref{subpara:plotVariables} below for details.
  \item \xmlNode{y}, \xmlDesc{string, required parameter}, specifies the DataObject parameter to be plotted as the y coordinate.
	This parameter must be described in a specific manner, see Section \ref{subpara:plotVariables} below for details.
  \item \xmlNode{z}, \xmlDesc{string, required parameter for plots with three dimensions}, specifies the DataObject parameter to be plotted as the z coordinate.
	This parameter must be described in a specific manner, see Section \ref{subpara:plotVariables} below for details.
\end{itemize}
%
In addition, other plot-dependent keywords, reported in
Section~\ref{sec:23Dplotting}, can be provided.

Under the \xmlNode{plot} sub-block other optional keywords can be specified, such as:
\begin{itemize}
  \item \xmlNode{xlabel}, \xmlDesc{string, optional parameter}, the x axis
  label.
  \item \xmlNode{ylabel}, \xmlDesc{string, optional parameter}, the y axis
  label.
  \item \xmlNode{zlabel}, \xmlDesc{string, optional parameter (3D plots only)},
  the z axis label.
  \item \xmlNode{gridLocation}, \xmlDesc{xmlNode, optional xmlNode (depending on the
  grid geometry)}
  \begin{itemize}
	\item \xmlNode{x}, \xmlDesc{integer, required parameter}, the position of the subPlot in the grid Space.
	if this node has a single value then the subplot occupies a single node at the specified location, otherwise
        the second integer represents the number of nodes that this subplot occupies, i.e. in the example above the
        first subplot occupies 2 nodes starting from the zero node in x direction.
	\item \xmlNode{y}, \xmlDesc{integer, required parameter}, the position of the subPlot in the grid Space.
	if this node has a single value then the subplot occupies a single node at the specified location, otherwise
        the second integer represents the number of nodes that this subplot occupies, i.e. in the example above the
        first subplot occupies a single node at the zero node in y direction.
  \end{itemize}
  \item \xmlNode{colorMap}, \xmlDesc{string, optional parameter}, specifies a DataObject parameter whose value will be used
	to vary the color of plotted points.  This parameter must be described in a specific manner, see Section \ref{subpara:plotVariables}
	below for details.
 \end{itemize}

\subparagraph{Specifying What Values to Plot \label{subpara:plotVariables}}
As already mentioned, the Plot system accepts as input for the visual parameters
(i.e., x, y, z, colorMap), data only from a \textbf{DataObjects} object.
%
Considering the structure of "DataObjects", the parameters are specified as three values separated by the
vertical bar character ('\texttt{|}') as follows:
\\* \\* \centerline{\texttt{DataObject Name|Parameter Type|Parameter Name}}
\\ \\  Where:
\begin{center}
\begin{tabular}{ll}
Value & Description \\ \hline
\multicolumn{1}{|l|}{\texttt{DataObject Name}} & \multicolumn{1}{l|}{Name of the DataObject that contains the parameter} \\ \hline
\multicolumn{1}{|l|}{\texttt{Parameter Type}} & \multicolumn{1}{l|}{
	\begin{tabular}[c]{@{}l@{}}Either \texttt{Input} or \texttt{Output} depending on whether the parameter \\
		is defined in the \xmlNode{Input} or \xmlNode{Output} part of the DataObject \end{tabular}} \\ \hline

\multicolumn{1}{|l|}{\texttt{Parameter Name}} & \multicolumn{1}{l|}{The name of the parameter in the DataObject to plot} \\ \hline
\end{tabular}
\end{center}
\textbf{Note:}  If the \texttt{Parameter Name} part of the variable specification itself contains the vertical bar character (`\texttt{|}`) used to separate
the three values, it must be enclosed in parenthesis to be interpreted properly.  For example:
\\* \\* \centerline{\texttt{DataObject Name|Parameter Type|(parameter|name)}}

%%%%%%%%%%%%%
%Predefined Plotting System block sub-sub-sub section
%%%%%%%%%%%%%
\paragraph{Predefined Plotting System: 2D/3D \label{sec:23Dplotting}}
As already mentioned above, the Plotting system provides a specialized input
structure for several different kind of plots specified in the \xmlNode{type}
node:
 \begin{itemize}
  \item \textit{2 Dimensional plots}:
  \begin{itemize}
    \item \texttt{scatter} creates a scatter plot of x vs y, where x and y are
    sequences of numbers of the same length.
    \item \texttt{line} creates a line plot of x vs y, where x and y are
    sequences of numbers of the same length.
    \item \texttt{histogram} computes and draws the histogram of x.
    %
    \nb This plot accepts only the XML node \xmlNode{x} even if it
    is considered as a 2D plot type.
    \item \texttt{stem} plots vertical lines at each x location from the
    baseline to y, and places a marker there.
    \item \texttt{step} creates a 2 dimensional step plot.
    \item \texttt{pseudocolor} creates a pseudocolor plot of a two dimensional
    array.
    %
    The two dimensional array is built creating a mesh from \xmlNode{x} and
    \xmlNode{y} data, in conjunction with the data specified in the
    \xmlNode{colorMap} node.
    \item \texttt{contour} builds a contour plot creating a plot from
    \xmlNode{x} and \xmlNode{y} data, in conjunction with the data specified in
    the \xmlNode{colorMap} node.
    \item \texttt{filledContour} creates a filled contour plot from \xmlNode{x}
    and \xmlNode{y} data, in conjunction with the data specified in the
    \xmlNode{colorMap} node.
  \end{itemize}
  \item \textit{3 Dimensional plots}:
  \begin{itemize}
    \item \texttt{scatter} creates a scatter plot of (x,y) vs z, where x, y, z
    are sequences of numbers of the same length.
    \item \texttt{line} creates a line plot of (x,y) vs z, where x, y, z are
    sequences of numbers of the same length.
    \item \texttt{stem} creates a 3 Dimensional stem plot of (x,y) vs z.
    \item \texttt{surface} creates a surface plot of (x,y) vs z.
    %
    By default it will be colored in shades of a solid color, but it also
    supports color mapping.
    \item \texttt{wireframe} creates a 3D wire-frame plot.
    %
    No color mapping is supported.
    \item \texttt{tri-surface} creates a 3D tri-surface plot.
    %
    It is a surface plot with automatic triangulation.
    \item \texttt{contour3D} builds a 3D contour plot creating the plot from
    \xmlNode{x}, \xmlNode{y} and \xmlNode{z} data, in conjunction with the data
    specified in \xmlNode{colorMap}.
    \item \texttt{filledContour3D} builds a filled 3D contour plot creating the
    plot from \xmlNode{x}, \xmlNode{y} and \xmlNode{z} data, in conjunction with
    the data specified in \xmlNode{colorMap}.
    \item \texttt{histogram} computes and draws the histogram of x and y.
    %
    \nb This plot accepts only the XML nodes \xmlNode{x} and \xmlNode{y} even if
    it is considered as 3D plot type since the frequency is mapped to the third
    dimension.
  \end{itemize}
\end{itemize}

As already mentioned, the settings for each plot type are specified within the
XML block called \xmlNode{plot}.
%
The sub-nodes that are available depends on the plot type as each plot type has
its own set of parameters that can be specified.

In the following sub-sections all the options for the plot types listed above
are reported.

\subsubsection{2D \& 3D Scatter plot}
  \plotIntro{scatter}
  \begin{itemize}
    \item \xmlNode{s}, \xmlDesc{integer, optional field}, represents the size
    in points\^2. The ``points'' have the same meaning of the font size (e.g. Times New Roman, pts 10).
    In here the user specifies the area of the marker size.
    %
    \default{20}
    \item \xmlNode{c}, \xmlDesc{string, optional field}, specifies the color or
    sequence of color to use.
    %
    \xmlNode{c} can be a single color format string, a sequence of color
    specifications of length N, or a sequence of N numbers to be mapped to
    colors using the cmap and norm specified via \xmlNode{kwargs}.
    %
    \nb \xmlNode{c} should not be a single numeric RGB or RGBA sequence because
    that is indistinguishable from an array of values to be colormapped.
    %
    \xmlNode{c} can be a 2D array in which the rows are RGB or RGBA.
     %
    \nb \xmlNode{colorMap} will  overwrite \xmlNode{c}.  If \xmlNode{colorMap} is defined then the color set used can be defined by \xmlNode{cmap}.
    If no \xmlNode{cmap} is given then the default color set of  ``matplotlib.pyplot.scatter'' method in~\cite{MatPlotLib} is used.
    If \xmlNode{colorMap} is not defined then the plot is in solid color (default \textit{blue}) as defined with \xmlNode{color} in \xmlNode{kwargs}.
  %
   \item \xmlNode{marker}, \xmlDesc{string, optional field}, specifies the type
    of marker to use.
    %
    \default{o}
    \item \xmlNode{alpha}, \xmlDesc{string, optional field}, sets the alpha
    blending value, between 0 (transparent) and 1 (opaque).
    %
    \default{None}
    \item \xmlNode{linewidths}, \xmlDesc{string, optional field}, widths of
    lines used in the plot.
    %
    Note that this is a tuple, and if you set the linewidths argument you must
    set it as a sequence of floats.
    %
    \default{None};
    \item \xmlNode{kwargs}, within this block the user can specify optional parameters
    with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
    %
    For reference regarding the available kwargs, see
    ``matplotlib.pyplot.scatter'' method in~\cite{MatPlotLib}.
    %
  \end{itemize}

\subsubsection{2D \& 3D Line plot}
  \plotIntro{line}
  \begin{itemize}
    \item \interpolationDescription{linear}
    \item \interpXYDescription{x}
    \item \interpXYDescription{y} (only 3D line plot).
    \nb If \xmlNode{colorMap} is used then a \textbf{scatter plot} will be plotted.
  \end{itemize}

\subsubsection{2D \& 3D Histogram plot}
\plotIntro{histogram}
\begin{itemize}
  \item \xmlNode{bins}, \xmlDesc{integer or array\_like, optional field}, sets
  the number of bins if an integer is used or a sequence of edges if a
  python list is used.
  %
  \default{10}
  \item \xmlNode{normed}, \xmlDesc{boolean, optional field}, if True then the
  the histogram will be normalized to 1.
  %
  \default{False}
  \item \xmlNode{weights}, \xmlDesc{sequence, optional field}, represents an
  array of weights, of the same shape as x.
  %
  Each value in x only contributes its associated weight towards the bin count
  (instead of 1).
  %
  If normed is True, the weights are normalized, so that the integral of the
  density over the range remains 1.
  %
  \default{None}
  \item \xmlNode{cumulative}, \xmlDesc{boolean, optional field}, if True, then a
  histogram is computed where each bin gives the counts in that bin plus all
  bins for smaller values.
  %
  The last bin gives the total number of data points.
  %
  If normed is also True then the histogram is normalized such that the last bin
  equals 1.
  %
  If cumulative evaluates to less than 0 (e.g., -1), the direction of
  accumulation is reversed.
  %
  In this case, if normed is also True, then the histogram is normalized such
  that the first bin equals 1.
  %
  \default{False}
  \item \xmlNode{histtype}, \xmlDesc{string, optional field},
  %
  The type of histogram to draw:
  \begin{itemize}
    \item \textbf{bar} is a traditional bar-type histogram.
    %
    If multiple data sets are given the bars are arranged side by side.
    \item \textbf{barstacked} is a bar-type histogram where multiple data sets
    are stacked on top of each other.
    \item \textbf{step} generates a line plot that is by default unfilled.
    \item \textbf{stepfilled} generates a line plot that is by default filled.
  \end{itemize}
  \default{bar}
  \item \xmlNode{align}, \xmlDesc{string, optional field}, controls how the
  histogram is plotted.
  %
  \begin{itemize}
    \item \textbf{left} bars are centered on the left bin edge.
    \item \textbf{mid} bars are centered between the bin edges.
    \item \textbf{right} bars are centered on the right bin edges.
  \end{itemize}
  \default{mid}
  \item \xmlNode{orientation}, \xmlDesc{string, optional field}, specifies the
  orientation of the histogram:
  \begin{itemize}
    \item \textbf{horizontal}
    \item \textbf{vertical}
  \end{itemize}
  \default{vertical}
  \item \xmlNode{rwidth}, \xmlDesc{float, optional field}, sets the relative
  width of the bars as a fraction of the bin width.
  %
  \default{None}
  \item \xmlNode{log}, \xmlDesc{boolean, optional field}, sets a log scale.
  %
  \default{False}
  \item \xmlNode{color}, \xmlDesc{string, optional field}, specifies the color
  of the histogram.
  %
  \default{blue};
  \item \xmlNode{stacked}, \xmlDesc{boolean, optional field}, if True, multiple
  data elements are stacked on top of each other. If False, multiple data sets
  are aranged side by side if histtype is `bar' or on top of each other if
  histtype is `step.'
  %
  \default{False}
  \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}
  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2}\texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
  %
  For reference regarding the available kwargs, see ``matplotlib.pyplot.hist''
  method in~\cite{MatPlotLib}.
  %
    \end{itemize}

\subsubsection{2D \& 3D Stem plot}
\plotIntro{stem}
  \begin{itemize}
  \item \xmlNode{linefmt}, \xmlDesc{string, optional field}, sets the line
  style used in the plot.
  %
  \default{b-}
  \item \xmlNode{markerfmt}, \xmlDesc{string, optional field}, sets the type of
  marker format to use in the plot.
  %
  \default{bo}
  \item \xmlNode{basefmt}, \xmlDesc{string, optional field}, sets the base
  format.
  %
  \default{r-}
  \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}
  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
  %

  For reference regarding the available kwargs, see ``matplotlib.pyplot.stem''
  method in~\cite{MatPlotLib}.
  %
    \end{itemize}

\subsubsection{2D Step plot}
  \plotTwoIntro{step}
  \begin{itemize}
    \item \xmlNode{where}, \xmlDesc{string, optional field}, specifies the
    positioning:
    \begin{itemize}
      \item \textbf{pre}, the interval from x[i] to x[i+1] has level y[i+1]
      \item \textbf{post}, that interval has level y[i]
      \item \textbf{mid}, the jumps in y occur half-way between the x-values
    \end{itemize}
  \default{mid}
  \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}
  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
    %
    For reference regarding the available kwargs, see ``matplotlib.pyplot.step''
    method in~\cite{MatPlotLib}.
    %
  \end{itemize}

\subsubsection{2D Pseudocolor plot}
  \plotTwoIntro{pseudocolor}
  \begin{itemize}
    \item \interpolationDescription[linear]
    \item \interpXYDescription{x}
    \item \xmlNode{kwargs}, within this block the user can specify optional
    parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}
  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
    %
    For reference regarding the available kwargs, see
    ``matplotlib.pyplot.pcolor'' method in~\cite{MatPlotLib}.
    %
  \end{itemize}

\subsubsection{2D Contour or filledContour plots}
In order to create a 2D ``contour'' or ``filledContour'' plot, the user needs to
write in the \xmlNode{type} body the keyword ``contour'' or ``filledContour,''
respectively.
%
In order to customize the plot, the user can define the following XML sub-nodes:
\begin{itemize}
  \item \xmlNode{numberBins}, \xmlDesc{integer, optional field}, sets the
  number of bins.
  %
  \default{5}
  \item \interpolationDescription{linear}
  \item \interpXYDescription{x}
  \item \xmlNode{colorMap} vector is the array to visualize.  If \xmlNode{colorMap} is defined then the color set used can be defined by \xmlNode{cmap}.
  If no \xmlNode{cmap} is given then the plot is in solid color (default \textit{blue}) as defined with \xmlNode{color} in \xmlNode{kwargs}.
  \item \cmapDescription{None}
  %
  \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}
  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
  %
  For reference regarding the available kwargs, see
  ``matplotlib.pyplot.contour'' method in~\cite{MatPlotLib}.
  %
    \end{itemize}

\subsubsection{3D Surface Plot}
\plotThreeIntro{surface}
\begin{itemize}
  \item \xmlNode{rstride}, \xmlDesc{integer, optional field}, specifies the
  array row stride (step size).
  %
  \default{1}
  \item \xmlNode{cstride}, \xmlDesc{integer, optional field}, specifies the
  array column stride (step size).
  %
  \default{1}
  \item \cmapDescription{None}
  %
   \nb If \xmlNode{colorMap} is defined then the plot will always use a color set even if no \xmlNode{cmap} is given.
  In such a case, if no \xmlNode{cmap} is given, then the default color set of  ``matplotlib.pyplot.surface'' method in~\cite{MatPlotLib} is used.
  If \xmlNode{colorMap} and \xmlNode{cmap} are both not defined then the plot is in solid color (\textit{default blue}) as defined with \xmlNode{color} in \xmlNode{kwargs}.
  %
  \item \xmlNode{antialiased}, \xmlDesc{boolean, optional field}, determines
  whether or not the rendering should be antialiased.
  %
  \default{False}
  \item \xmlNode{linewidth}, \xmlDesc{integer, optional field}, defines the
  widths of lines rendered on the plot.
  %
  \default{0}
  \item \interpolationDescription{linear}
  \item \interpXYDescription{x}
  \item \interpXYDescription{y}
  \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
  %
  For reference regarding the available kwargs, see
  ``matplotlib.pyplot.surface'' method in~\cite{MatPlotLib}.
  %
\end{itemize}

\subsubsection{3D Wireframe Plot}
\plotThreeIntro{wireframe}
\begin{itemize}
  \item \xmlNode{rstride}, \xmlDesc{integer, optional field}, sets the array row
  stride (step size).
  %
  \default{1}
  \item \xmlNode{cstride}, \xmlDesc{integer, optional field}, sets the array
  column stride (step size).
  %
  \default{1}
  \item \cmapDescription{None}
  %
  \nb \xmlNode{cmap} is not applicable in the current version of MatPlotLib  for wireframe plots.
  However, if the colorMap option is set then a surface plot is plotted with a transparency of 0.4 on top of wireframe to give a visual colormap.
  \nb If \xmlNode{colorMap} is defined then the plot will always use a color set even if no \xmlNode{cmap} is given.
  In such a case, if no \xmlNode{cmap} is given, then the default color set of  ``matplotlib.pyplot.surface'' method in~\cite{MatPlotLib} is used.
  If \xmlNode{colorMap} and \xmlNode{cmap} are both not defined then the plot is in solid color (\textit{default blue}) as defined with \xmlNode{color} in   \xmlNode{kwargs}.
  \item \interpolationDescription{linear}
  \item \interpXYDescription{x}
  \item \interpXYDescription{y}
  \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
  %
  For reference regarding the available kwargs, see
  ``matplotlib.pyplot.wireframe'' method in~\cite{MatPlotLib}.
  %
\end{itemize}

\subsubsection{3D Tri-surface Plot}
\plotThreeIntro{tri-surface}
\begin{itemize}
  \item \xmlNode{color}, \xmlDesc{string, optional field}, sets the color of the
  surface patches.
  %
  \default{b}
  \item \xmlNode{shade}, \xmlDesc{boolean, optional field}, determines whether
  to apply shading or not.
  %
  \default{False}
  \item \cmapDescription{None}
  \nb If \xmlNode{colorMap} is defined then the plot will always use a color set even if no \xmlNode{cmap} is given.
  In such a case, if no \xmlNode{cmap} is given, then the default color set of  ``matplotlib.pyplot.trisurface'' method in~\cite{MatPlotLib} is used.
  If \xmlNode{colorMap} and \xmlNode{cmap} are both not defined then the plot is in solid color (\textit{default blue}) as defined with \xmlNode{color} in   \xmlNode{kwargs}.
  \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
  %
  For reference regarding the available kwargs, see
  ``matplotlib.pyplot.trisurface'' method in~\cite{MatPlotLib}.
  %
\end{itemize}

\subsubsection{3D Contour or filledContour plots}
In order to create a 3D ``Contour'' or ``filledContour'' plot, the user needs
to write in the \xmlNode{type} body the keyword ``contour3D'' or ``filledContour3D,'' respectively.
%
In order to customize these plots, the user can define the following XML sub
nodes:
\begin{itemize}
  \item \xmlNode{numberBins}, \xmlDesc{integer, optional field}, sets the
  number of bins to use.
  %
  \default{5}
  \item \interpolationDescription{linear}
  \item \interpXYDescription{x}
  \item \interpXYDescription{y}
  \item \xmlNode{colorMap} vector is the array to visualize.  If \xmlNode{colorMap} is defined then the color set used can be defined by \xmlNode{cmap}.
  If no \xmlNode{cmap} is given then the plot is in solid color (default \textit{blue}) as defined with \xmlNode{color} in \xmlNode{kwargs}.
  %
  \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
  %
  For reference regarding the available kwargs, see
  ``matplotlib.pyplot.contour3d'' method in~\cite{MatPlotLib}.
  %
\end{itemize}

\subsubsection{DataMining plots}
In order to create a ``DataMining'' plot, the user needs to write in the
\xmlNode{type} body the keyword ``dataMining''.
%
``DataMining'' plots are based on 2D or 3D Scattering plots, depending on the method/algorithm
used in the ``DataMining'' postprocessor [see  \ref{subsubsec:DataMining}]. These plots
are created to ease the color labeling the clusters, etc parameters in the data.
%
The following are the optional or required input parameters  that can be used in these plots
additional to the coordinate inputs \xmlNode{x},  \xmlNode{y}, or \xmlNode{z} depending
 on the dimension:
\begin{itemize}
  \item \xmlNode{type}, \xmlDesc{string, required field}, this block should read ``dataMining''
  in order to create a data mining plot.
  %
  \item \xmlNode{SKLtype}, \xmlDesc{string, required field}, name of the algorithm used in the
  ``dataMining'' postprocessor. It is one of:
  \begin{itemize}
	\item cluster: for clustering algorithms, such as KMeans clustering.
	\item bicluster ( \nb{not implemented yet!})
	\item mixture: for Gaussian mixture algorithms, such as GMM classifier
	\item manifold: for Manifold Learning algorithms, such as Spectral Embedding
	\item decomposition: for decomposing signals in components algorithms, such as Principal
        Component Analysis (PCA)
 \end{itemize}
 \item \xmlNode{clusterLabels}, \xmlDesc{string, optional field}, defines the place where
 the labels of the clusters are located. As in the visual parameters (i.e., x,y,z and
 colorMap) this is also from a \textbf{DataObjects} object. Considering the structure of
 ``DataObjects'', the labels inputted as follows: \texttt{DataObjectName|Output|DataMiningPPNameLabels}.
 \default{None}
 \item \xmlNode{noClusters}, \xmlDesc{integer, optional field}, defines the number of
 clusters used in the ``dataMining'' postprocessor \default{1}

 \item \xmlNode{kwargs}, within this block the user can specify optional
  parameters with the following format:

\begin{lstlisting}[style=XML]
<kwargs>
 <param1>value1</param1>
 <param2>value2</param2>
</kwargs>
\end{lstlisting}

  The kwargs block is able to convert whatever string into a python type (for
  example \xmlNode{param1} \texttt{\{`1stKey':45\}}\xmlNode{/param1} will
  be converted into a dictionary,
  \xmlNode{param2} \texttt{[56,67]} \xmlNode{/param2} into a list, etc.).
  %

  For reference regarding the other available kwargs, see
  ``matplotlib.pyplot.scatter'' method in~\cite{MatPlotLib}.
  %
\end{itemize}


%\subsubsection{Interpreted Plotting instruction \label{sec:Interpretedplotting}}

\subsubsection{Example XML input}
\begin{lstlisting}[style=XML,morekeywords={name,interactive,overwrite}]
<OutStreams>
  <Plot name='2DHistoryPlot' interactive='False' overwrite='False'>
    <actions>
      <how>pdf,png,eps</how>
      <title>
        <text>***</text>
      </title>
    </actions>
    <plotSettings>
       <plot>
        <type>line</type>
        <x>stories|Output|time</x>
        <y>stories|Output|pipe1_Hw</y>
        <kwargs>
         <color>green</color>
         <label>pipe1-Hw</label>
        </kwargs>
      </plot>
       <plot>
        <type>line</type>
        <x>stories|Output|time</x>
        <y>stories|Output|pipe1_aw</y>
        <kwargs>
         <color>blue</color>
         <label>pipe1-aw</label>
        </kwargs>
      </plot>
      <xlabel>time [s]</xlabel>
      <ylabel>evolution</ylabel>
    </plotSettings>
  </Plot>
</OutStreams>
\end{lstlisting}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Specific Plotting Strategies
\subsection{Specific Plots \label{sec:outstreams.subplots}}
For convenience, RAVEN offers tailored plotting strategies that apply in specific circumstances.
They are not as flexible as the default plotting system, but may offer a quick method to view
data with minimal input required. These are described in the following subsection.

Specific plotting strategies are requested using the \xmlNode{Plot} node attribute \xmlAttr{subType}.
For example,
\begin{lstlisting}[style=XML]
<Simulation>
  ...
  <OutStreams>
    <Plot name="mySamples" subType="PlottingStrategyName">
      ...
    </Plot>
  </OutStreams>
</Simulations>
\end{lstlisting}

\subsubsection{SamplePlot}
The \xmlString{SamplePlot} \xmlAttr{subType} is a very simple plotting tool meant for quickly
viewing the results of sampling, or as a basis for adding new plotting strategies. This plotter
constructs a series of verticle plots whose x-axis is the sample ID and y-axis is a particular
variables' values.

The \xmlString{SamplePlot} \xmlAttr{subType} requires the following nodes:
\begin{itemize}
  \item \xmlNode{source}, \xmlDesc{required, string}, selects which DataObject should be used
      to take data for plotting. This DataObject must be listed in the Step in which this
      OutStream is used, and is usually the result of as \xmlNode{MultiRun} step.
  \item \xmlNode{vars}, \xmlDesc{required, comma-separated strings}, identifies which variables should
      be plotted as a function of sample number. These variables must be included in the \xmlNode{source}
      DataObject.
\end{itemize}

For example,
\begin{lstlisting}[style=XML]
<Simulation>
  ...
  <OutStreams>
    <Plot name="mySamples" subType="SamplePlot">
      <source>dataObjectFromStep</source>
      <vars>a, b, x, y</vars>
    </Plot>
  </OutStreams>
</Simulations>
\end{lstlisting}
